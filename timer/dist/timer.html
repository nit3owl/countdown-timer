<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<!-- Loading Bootstrap -->
		<link href="../dist/css/vendor/bootstrap.min.css" rel="stylesheet">
		<!-- Loading Flat UI -->
		<link href="../dist/css/flat-ui.min.css" rel="stylesheet">

		<!-- HTML5 shim, for IE6-8 support of HTML5 elements. All other JS at the end of file. -->
		<!--[if lt IE 9]>
		  <script src="js/vendor/html5shiv.js"></script>
		  <script src="js/vendor/respond.min.js"></script>
		<![endif]-->
		<style>
			body{
				background-color: white;
			}
			@media(max-width:767px){
				body{
					background-color: #2C3E50;
				}
			}
			.section{
				text-align: center;
				font-size: 36px;
				font-weight: bold;
			}
			.startStopBtn{
				width: 100%; 
				height: 55px; 
				font-size: 22px; 
				font-weight: bold; 
			}
			.display{
				width: 100%;
				margin-left: auto;
				margin-right: auto;
				color: white;
				background-color: #95A5A6;
			}
			.expired{
				background-color: #e74c3c;
			}
			.btn-default{
				width: 95%;
				font-weight: bold;
				font-size: 36px;
			}
			.tile{
				background-color: #2C3E50;
			}
		</style>
	</head>
	<body>
		<div class="container-fluid col-sm-offset-3 col-sm-6 col-lg-4 col-lg-offset-4">
			<div class="tile" style="margin: 10px; padding: 30px;">
				<div id="time" class="row section display" style="padding-top: 20px; padding-bottom: 20px;">
					<div id="hours" class="col-xs-4">00</div>
					<div id="minutes" class="col-xs-4">00</div>
					<div id="seconds" class="col-xs-4">00</div>
				</div>
				<div class="section" style="margin-top: 10px;">
					<div class="row" style="padding-top: 5px;">
						<div class="col-xs-4"><button type="button" value="1" class="timerBtn btn btn-default btn-lg" id="btn1">1</button></div> 
						<div class="col-xs-4"><button type="button" value="2" class="timerBtn btn btn-default btn-lg" id="btn2">2</button></div>
						<div class="col-xs-4"><button type="button" value="3" class="timerBtn btn btn-default btn-lg" id="btn3">3</button></div>
					</div>
					<div class="row" style="padding-top: 5px;">
						<div class="col-xs-4"><button type="button" value="4" class="timerBtn btn btn-default btn-lg" id="btn4">4</button></div>
						<div class="col-xs-4"><button type="button" value="5" class="timerBtn btn btn-default btn-lg" id="btn5">5</button></div>
						<div class="col-xs-4"><button type="button" value="6" class="timerBtn btn btn-default btn-lg" id="btn6">6</button></div>
					</div>
					<div class="row" style="padding-top: 5px;">
						<div class="col-xs-4"><button type="button" value="7" class="timerBtn btn btn-default btn-lg" id="btn7">7</button></div>
						<div class="col-xs-4"><button type="button" value="8" class="timerBtn btn btn-default btn-lg" id="btn8">8</button></div>
						<div class="col-xs-4"><button type="button" value="9" class="timerBtn btn btn-default btn-lg" id="btn9">9</button></div>
					</div>
					<div class="row" style="padding-top: 5px; padding-bottom: 5px">
						<div class=" col-xs-offset-4 col-xs-4"><button type="button" value="0" class="timerBtn btn btn-default btn-lg" id="btn0">0</button></div>
					</div>
				</div>
				<div class="row">
					<div class="col-xs-12 col-sm-6 text-center" style="padding-top: 20px;">
						<button id="startStop" class="btn btn-danger startStopBtn" onclick="startTimer();">Start/Stop</button>
					</div>
					<div class="col-xs-12  col-sm-6 text-center" style="padding-top: 20px;">
						<button  id="reset" class="btn btn-danger startStopBtn" onclick="resetTimer();">Reset</button>
					</div>
				</div>
			</div>
		</div>
		<!-- jQuery (necessary for Flat UI's JavaScript plugins) -->
		<script src="../dist/js/vendor/jquery.min.js"></script>
		<!-- Include all compiled plugins (below), or include individual files as needed -->
		<script src="../dist/js/vendor/video.js"></script>
		<script src="../dist/js/flat-ui.min.js"></script>
		<script>
			var hoursText = document.getElementById('hours');
			var minutesText = document.getElementById('minutes');
			var secondsText = document.getElementById('seconds');
			var startStop = document.getElementById('startStop');
			var seconds = 0;
			var minutes = 0;
			var hours = 0;
			var interval;

			function count() {
				seconds--;
				if(seconds < 1){
					seconds = 59;
					minutes--;
					if(minutes < 0){
						minutes = 59;
						hours--;
						if(hours < 0){
							resetTimer();
							startStop.onclick = resetTimer;
							interval = setInterval(expired, 1000);
						}
						else
							hoursText.innerHTML = hours <= 9 ? "0" + hours : hours;
					}
					minutesText.innerHTML = minutes <= 9 ? "0" + minutes : minutes;
				}
				secondsText.innerHTML = seconds <= 9 ? "0" + seconds : seconds;
			}
			function startTimer() {
				startStop.onclick = stopTimer;
				if(seconds > 59){
					seconds = seconds % 60;
					secondsText.innerHTML = seconds <= 9 ? "0" + seconds : seconds;
					minutes++;
					minutesText.innerHTML = minutes <= 9 ? "0" + minutes : minutes;
				}
				if(minutes > 59){
					minutes = minutes % 60;
					minutesText.innerHTML = minutes <= 9 ? "0" + minutes : minutes;
					hours++;
					hoursText.innerHTML = hours <= 9 ? "0" + hours : hours;
				}
				interval = setInterval(count, 1000);
			}
			function stopTimer(){
				clearInterval(interval);
				startStop.onclick = startTimer;
			}

			function resetTimer () {
				stopTimer();
				hours = 0;
				minutes = 0;
				seconds = 0;
				hoursText.innerHTML = "00";
				minutesText.innerHTML = "00";
				secondsText.innerHTML = "00";
				$("#time").removeClass("expired");
				$(".btn-default").prop('disabled', false);
			}
			function expired(){		
				$("#time").toggleClass("expired");
			}
			
			$(document).ready(function(){
				$(".btn-default").click(function(){
					var that = $(this);
					
					seconds = seconds * 10 + parseInt(that.val());
					tsec = Math.floor(seconds / 100);
					seconds = seconds % 100;
					minutes = minutes * 10 + tsec;
					tmin = Math.floor(minutes / 100);
					minutes = minutes % 100;
					if((hours * 10 + tmin) > 99 ){								
						hours = hours % 100;
					}
					else{		
						hours = hours * 10 + tmin;
					}
					if(hours > 9)
						$(".btn-default").prop('disabled', true);							
					
					secondsText.innerHTML = seconds <= 9 ? "0" + seconds : seconds;
					minutesText.innerHTML = minutes <= 9 ? "0" + minutes : minutes;
					hoursText.innerHTML = hours <= 9 ? "0" + hours : hours;
				}); 
			});
		</script>
	</body>
</html>
